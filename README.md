<div align="center">
<h1 align="center">MIT-Project ğŸ’¸</h1>


Chá»‰ cáº§n cung cáº¥p <b>chá»§ Ä‘á»</b> hoáº·c <b>tá»« khÃ³a</b> cho video vÃ  cÃ´ng cá»¥ sáº½ tá»± Ä‘á»™ng táº¡o báº£n sao video,
tÃ i liá»‡u video, phá»¥ Ä‘á» video vÃ  nháº¡c ná»n video trÆ°á»›c khi tá»•ng há»£p thÃ nh video ngáº¯n cÃ³ Ä‘á»™ phÃ¢n giáº£i cao.

### WebUI

![](docs/main-page.png)

### API Interface

![](docs/api-page.png)

</div>

## Features ğŸ¯

- [x] Complete **MVC architecture**, **clearly structured** code, easy to maintain, supports both `API`
  and `Web interface`
- [x] Há»— trá»£ báº£n sao video **do AI táº¡o** cÅ©ng nhÆ° báº£n sao **tÃ¹y chá»‰nh**
- [x] Há»— trá»£ nhiá»u kÃ­ch cá»¡ **video Ä‘á»™ nÃ©t cao**
    - [x] ChÃ¢n dung 9:16, `1080x1920`
    - [x] Phong cáº£nh 16:9, `1920x1080`
- [x] Há»— trá»£ **táº¡o video hÃ ng loáº¡t**, cho phÃ©p táº¡o nhiá»u video cÃ¹ng lÃºc, sau Ä‘Ã³ chá»n video
Æ°ng Ã½ nháº¥t
- [x] Há»— trá»£ thiáº¿t láº­p **thá»i lÆ°á»£ng cá»§a cÃ¡c Ä‘oáº¡n video**, táº¡o Ä‘iá»u kiá»‡n thuáº­n lá»£i cho viá»‡c Ä‘iá»u chá»‰nh táº§n suáº¥t chuyá»ƒn Ä‘á»•i váº­t liá»‡u
- [x] Há»— trá»£ sao chÃ©p video báº±ng cáº£ **Tiáº¿ng Viá»‡t** vÃ  **Tiáº¿ng Anh**
- [x] Há»— trá»£ tá»•ng há»£p **nhiá»u giá»ng nÃ³i**
- [x] Há»— trá»£ **táº¡o phá»¥ Ä‘á»**, vá»›i `font`, `position`, `color`, `size` cÃ³ thá»ƒ Ä‘iá»u chá»‰nh vÃ  cÅ©ng
há»— trá»£ `phÃ¡c tháº£o phá»¥ Ä‘á»`
- [x] Há»— trá»£ **nháº¡c ná»n**, cÃ³ thá»ƒ lÃ  tá»‡p nháº¡c ngáº«u nhiÃªn hoáº·c Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh, vá»›i `Ã¢m lÆ°á»£ng nháº¡c ná»n` cÃ³ thá»ƒ Ä‘iá»u chá»‰nh
- [x] Nguá»“n tÃ i liá»‡u video cÃ³ **Ä‘á»™ phÃ¢n giáº£i cao** vÃ  **miá»…n phÃ­ báº£n quyá»n**
- [x] Há»— trá»£ tÃ­ch há»£p vá»›i nhiá»u mÃ´ hÃ¬nh khÃ¡c nhau nhÆ° **OpenAI**, **moonshot**, **Azure**, **gpt4free**, **one-api**,
**qianwen**, **Google Gemini**, **Ollama** vÃ  nhiá»u mÃ´ hÃ¬nh khÃ¡c

### Dá»± Ä‘á»‹nh tÆ°Æ¡ng lai ğŸ“…

- [ ] Giá»›i thiá»‡u há»— trá»£ cho lá»“ng tiáº¿ng GPT-SoVITS
- [ ] NÃ¢ng cao kháº£ nÄƒng tá»•ng há»£p giá»ng nÃ³i vá»›i cÃ¡c mÃ´ hÃ¬nh lá»›n Ä‘á»ƒ cÃ³ Ä‘áº§u ra giá»ng nÃ³i tá»± nhiÃªn vÃ  truyá»n cáº£m hÆ¡n
- [ ] Káº¿t há»£p cÃ¡c hiá»‡u á»©ng chuyá»ƒn tiáº¿p video Ä‘á»ƒ Ä‘áº£m báº£o tráº£i nghiá»‡m xem mÆ°á»£t mÃ  hÆ¡n
- [ ] Cáº£i thiá»‡n má»©c Ä‘á»™ liÃªn quan cá»§a ná»™i dung video
- [ ] ThÃªm tÃ¹y chá»n cho Ä‘á»™ dÃ i video: ngáº¯n, trung bÃ¬nh, dÃ i
- [ ] ÄÃ³ng gÃ³i á»©ng dá»¥ng thÃ nh má»™t gÃ³i khá»Ÿi cháº¡y má»™t cÃº nháº¥p chuá»™t cho Windows vÃ  macOS Ä‘á»ƒ dá»… sá»­ dá»¥ng
- [ ] Cho phÃ©p sá»­ dá»¥ng cÃ¡c tÃ i liá»‡u tÃ¹y chá»‰nh
- [ ] Cung cáº¥p cÃ¡c tÃ¹y chá»n lá»“ng tiáº¿ng vÃ  nháº¡c ná»n vá»›i báº£n xem trÆ°á»›c theo thá»i gian thá»±c
- [ ] Há»— trá»£ nhiá»u nhÃ  cung cáº¥p tá»•ng há»£p giá»ng nÃ³i hÆ¡n, cháº³ng háº¡n nhÆ° OpenAI TTS, Azure TTS
- [ ] Tá»± Ä‘á»™ng hÃ³a quy trÃ¬nh táº£i lÃªn ná»n táº£ng TikTok

## Video Demos ğŸ“º

### ChÃ¢n dung 9:16

<table>
<thead>
<tr>
<th align="center"><g-emoji class="g-emoji" alias="arrow_forward">â–¶ï¸</g-emoji> How to Add Fun to Your Life </th>
<th align="center"><g-emoji class="g-emoji" alias="arrow_forward">â–¶ï¸</g-emoji> What is the Meaning of Life</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><video src="https://github.com/thanhdinhbao/MIT-Project/assets/4928832/a84d33d5-27a2-4aba-8fd0-9fb2bd91c6a6"></video></td>
<td align="center"><video src="https://github.com/thanhdinhbao/MIT-Project/assets/4928832/112c9564-d52b-4472-99ad-970b75f66476"></video></td>
</tr>
</tbody>
</table>

### Phong cáº£nh 16:9

<table>
<thead>
<tr>
<th align="center"><g-emoji class="g-emoji" alias="arrow_forward">â–¶ï¸</g-emoji> What is the Meaning of Life</th>
<th align="center"><g-emoji class="g-emoji" alias="arrow_forward">â–¶ï¸</g-emoji> Why Exercise</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><video src="https://github.com/thanhdinhbao/MIT-Project/assets/4928832/346ebb15-c55f-47a9-a653-114f08bb8073"></video></td>
<td align="center"><video src="https://github.com/thanhdinhbao/MIT-Project/assets/4928832/271f2fae-8283-44a0-8aa0-0ed8f9a6fa87"></video></td>
</tr>
</tbody>
</table>

## YÃªu cáº§u há»‡ thá»‘ng ğŸ“¦

- Khuyáº¿n nghá»‹ tá»‘i thiá»ƒu 4 nhÃ¢n CPU trá»Ÿ lÃªn, bá»™ nhá»› 8G trá»Ÿ lÃªn, khÃ´ng yÃªu cáº§u GPU
- Windows 10 hoáº·c MacOS 11.0 vÃ  cÃ¡c phiÃªn báº£n má»›i hÆ¡n

## CÃ i Ä‘áº·t & Triá»ƒn khai ğŸ“¥
- Äáº£m báº£o **máº¡ng** cá»§a báº¡n á»•n Ä‘á»‹nh

#### â‘  Clone dá»± Ã¡n

```shell
git clone https://github.com/thanhdinhbao/MIT-Project.git
```

#### â‘¡ Sá»­a Ä‘á»•i táº­p tin cáº¥u hÃ¬nh

- Sao chÃ©p tá»‡p `config.example.toml` vÃ  Ä‘á»•i tÃªn thÃ nh `config.toml`
- LÃ m theo hÆ°á»›ng dáº«n trong tá»‡p `config.toml` Ä‘á»ƒ cáº¥u hÃ¬nh `pexels_api_keys` vÃ  `llm_provider`, vÃ  theo
nhÃ  cung cáº¥p dá»‹ch vá»¥ llm_provider, hÃ£y thiáº¿t láº­p KhÃ³a API tÆ°Æ¡ng á»©ng

#### â‘¢ Cáº¥u hÃ¬nh Large Language Models (LLM)

- Äá»ƒ sá»­ dá»¥ng `GPT-4.0` hoáº·c `GPT-3.5`, báº¡n cáº§n `API Key` tá»« `OpenAI`. Náº¿u báº¡n khÃ´ng cÃ³, báº¡n cÃ³ thá»ƒ Ä‘áº·t `llm_provider`
thÃ nh `g4f` (thÆ° viá»‡n GPT miá»…n phÃ­ https://github.com/xtekky/gpt4free)


### Triá»ƒn khai thá»§ cÃ´ng ğŸ“¦

#### â‘  Táº¡o mÃ´i trÆ°á»ng áº£o Python

NÃªn táº¡o mÃ´i trÆ°á»ng áº£o Python Ä‘á»ƒ trÃ¡nh xung Ä‘á»™t phá»¥ thuá»™c.

```bash
# Clone the project
git clone https://github.com/thanhdinhbao/MIT-Project.git
cd MIT-Project

# Create virtual environment
python -m venv venv

# Activate virtual environment
# On Windows:
venv\Scripts\activate
# On macOS/Linux:
source venv/bin/activate

# Install dependencies
pip install -r requirements.txt

```

###### Windows

```bat
conda activate MIT-Project
webui.bat
```

###### MacOS or Linux

```shell
conda activate MIT-Project
sh webui.sh
```

Sau khi khá»Ÿi cháº¡y, trÃ¬nh duyá»‡t sáº½ tá»± Ä‘á»™ng má»Ÿ

#### â‘¡ Truy cáº­p giao diá»‡n web

Má»Ÿ trÃ¬nh duyá»‡t cá»§a báº¡n vÃ  truy cáº­p http://0.0.0.0:8501

#### â‘¢ Truy cáº­p giao diá»‡n API

Má»Ÿ trÃ¬nh duyá»‡t cá»§a báº¡n vÃ  truy cáº­p http://0.0.0.0:8080/docs Hoáº·c http://0.0.0.0:8080/redoc

#### â‘£ Khá»Ÿi cháº¡y dá»‹ch vá»¥ API ğŸš€

```shell
python main.py
```

Sau khi khá»Ÿi cháº¡y, báº¡n cÃ³ thá»ƒ xem `TÃ i liá»‡u API` táº¡i http://127.0.0.1:8080/docs vÃ  trá»±c tiáº¿p kiá»ƒm tra giao diá»‡n
trá»±c tuyáº¿n Ä‘á»ƒ cÃ³ tráº£i nghiá»‡m nhanh chÃ³ng.
## Táº¡o phá»¥ Ä‘á» ğŸ“œ

Hiá»‡n táº¡i, cÃ³ 2 cÃ¡ch Ä‘á»ƒ táº¡o phá»¥ Ä‘á»:

- edge: Tá»‘c Ä‘á»™ táº¡o nhanh hÆ¡n, hiá»‡u suáº¥t tá»‘t hÆ¡n, khÃ´ng cÃ³ yÃªu cáº§u cá»¥ thá»ƒ vá» cáº¥u hÃ¬nh mÃ¡y tÃ­nh, nhÆ°ng
cháº¥t lÆ°á»£ng cÃ³ thá»ƒ khÃ´ng á»•n Ä‘á»‹nh
- whisper: Tá»‘c Ä‘á»™ táº¡o cháº­m hÆ¡n, hiá»‡u suáº¥t kÃ©m hÆ¡n, yÃªu cáº§u cá»¥ thá»ƒ vá» cáº¥u hÃ¬nh mÃ¡y tÃ­nh, nhÆ°ng
cháº¥t lÆ°á»£ng Ä‘Ã¡ng tin cáº­y hÆ¡n

Báº¡n cÃ³ thá»ƒ chuyá»ƒn Ä‘á»•i giá»¯a chÃºng báº±ng cÃ¡ch sá»­a Ä‘á»•i `subtitle_provider` trong tá»‡p cáº¥u hÃ¬nh `config.toml`

Báº¡n nÃªn sá»­ dá»¥ng cháº¿ Ä‘á»™ `edge` vÃ  chuyá»ƒn sang cháº¿ Ä‘á»™ `whisper` náº¿u cháº¥t lÆ°á»£ng phá»¥ Ä‘á» Ä‘Æ°á»£c táº¡o khÃ´ng
Ä‘áº¡t yÃªu cáº§u.

> Note:
> Náº¿u Ä‘á»ƒ trá»‘ng, Ä‘iá»u Ä‘Ã³ cÃ³ nghÄ©a lÃ  sáº½ khÃ´ng cÃ³ phá»¥ Ä‘á» nÃ o Ä‘Æ°á»£c táº¡o ra.

**Táº£i whisper**
- HÃ£y Ä‘áº£m báº£o káº¿t ná»‘i internet tá»‘t
- CÃ³ thá»ƒ táº£i mÃ´ hÃ¬nh `whisper` tá»« HuggingFace: https://huggingface.co/openai/whisper-large-v3/tree/main

Sau khi táº£i mÃ´ hÃ¬nh xuá»‘ng mÃ¡y cá»¥c bá»™, hÃ£y sao chÃ©p toÃ n bá»™ thÆ° má»¥c vÃ  Ä‘áº·t vÃ o Ä‘Æ°á»ng dáº«n sau: `.\MIT-Project\models`

ÄÆ°á»ng dáº«n cuá»‘i cÃ¹ng sáº½ trÃ´ng nhÆ° tháº¿ nÃ y: `.\MIT-Project\models\whisper-large-v3`

```
MIT-Project  
  â”œâ”€models
  â”‚   â””â”€whisper-large-v3
  â”‚          config.json
  â”‚          model.bin
  â”‚          preprocessor_config.json
  â”‚          tokenizer.json
  â”‚          vocabulary.json
```

## Nháº¡c ná»n ğŸµ

Nháº¡c ná»n cho video náº±m trong thÆ° má»¥c `resource/songs` cá»§a dá»± Ã¡n.
> Dá»± Ã¡n hiá»‡n táº¡i bao gá»“m má»™t sá»‘ nháº¡c máº·c Ä‘á»‹nh tá»« video YouTube. Náº¿u cÃ³ váº¥n Ä‘á» vá» báº£n quyá»n, vui lÃ²ng xÃ³a
> chÃºng.

## PhÃ´ng chá»¯ phá»¥ Ä‘á» ğŸ…°

PhÃ´ng chá»¯ Ä‘á»ƒ hiá»ƒn thá»‹ phá»¥ Ä‘á» video náº±m trong thÆ° má»¥c `resource/fonts` cá»§a dá»± Ã¡n vÃ  báº¡n cÅ©ng cÃ³ thá»ƒ thÃªm phÃ´ng chá»¯ cá»§a riÃªng mÃ¬nh.

## CÃ¢u há»i thÆ°á»ng gáº·p ğŸ¤”

### â“LÃ m tháº¿ nÃ o Ä‘á»ƒ sá»­ dá»¥ng mÃ´ hÃ¬nh OpenAI GPT-3.5 miá»…n phÃ­?

[OpenAI Ä‘Ã£ thÃ´ng bÃ¡o ráº±ng ChatGPT vá»›i 3.5 hiá»‡n Ä‘Ã£ miá»…n phÃ­](https://openai.com/blog/start-using-chatgpt-instantly), vÃ 
cÃ¡c nhÃ  phÃ¡t triá»ƒn Ä‘Ã£ gÃ³i nÃ³ vÃ o má»™t API Ä‘á»ƒ sá»­ dá»¥ng trá»±c tiáº¿p.

**Äáº£m báº£o báº¡n Ä‘Ã£ cÃ i Ä‘áº·t vÃ  cháº¡y Docker**. Thá»±c hiá»‡n lá»‡nh sau Ä‘á»ƒ khá»Ÿi Ä‘á»™ng dá»‹ch vá»¥ Docker:

```shell
docker run -p 3040:3040 missuo/freegpt35
```

Sau khi khá»Ÿi Ä‘á»™ng thÃ nh cÃ´ng, hÃ£y sá»­a Ä‘á»•i cáº¥u hÃ¬nh `config.toml` nhÆ° sau:

- Äáº·t `llm_provider` thÃ nh `openai`
- Äiá»n báº¥t ká»³ giÃ¡ trá»‹ nÃ o vÃ o `openai_api_key`, vÃ­ dá»¥: '123456'
- Äá»•i `openai_base_url` thÃ nh `http://localhost:3040/v1/`
- Äáº·t `openai_model_name` thÃ nh `gpt-3.5-turbo`

### â“RuntimeError: KhÃ´ng tÃ¬m tháº¥y ffmpeg exe

ThÃ´ng thÆ°á»ng, ffmpeg sáº½ Ä‘Æ°á»£c tá»± Ä‘á»™ng táº£i xuá»‘ng vÃ  phÃ¡t hiá»‡n. 
Tuy nhiÃªn, náº¿u mÃ´i trÆ°á»ng cá»§a báº¡n cÃ³ váº¥n Ä‘á» ngÄƒn cháº·n viá»‡c táº£i xuá»‘ng tá»± Ä‘á»™ng, báº¡n cÃ³ thá»ƒ gáº·p pháº£i lá»—i sau:

```
RuntimeError: No ffmpeg exe could be found.
Install ffmpeg on your system, or set the IMAGEIO_FFMPEG_EXE environment variable.
```

Trong trÆ°á»ng há»£p nÃ y, báº¡n cÃ³ thá»ƒ táº£i xuá»‘ng ffmpeg tá»« https://www.gyan.dev/ffmpeg/builds/, giáº£i nÃ©n vÃ  Ä‘áº·t `ffmpeg_path` thÃ nh
Ä‘Æ°á»ng dáº«n cÃ i Ä‘áº·t thá»±c táº¿ cá»§a báº¡n.

```toml
[app]
# Please set according to your actual path, note that Windows path separators are \\
ffmpeg_path = "C:\\Users\\thanh\\Downloads\\ffmpeg.exe"
```


